<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
  </head>
  <body>
    <h1>我是index</h1>
    用户：<input type="text" name="username" /><br />
    密码:<input type="password" name="password" /><br />
    <button class="btn1">注册</button>
    <button class="btn2">登录</button>
    <script src="./js/jquery.js"></script>
    <script>
      $(function() {
        $(".btn2").click(function() {
          var username = $(":text").val();
          var password = $(":password").val();
          console.log(username, password);
          let promise = $.ajax({
            url: "/login",
            data: { username: username, password: password },
            type: "get",
            dataType: "json"
          }).then(
            resolve => {
              console.log(resolve);
            },
            reject => {
              console.log(reject);
            }
          );
        });
        $(".btn1").click(function() {
          var username = $(":text").val();
          var password = $(":password").val();
          console.log(username, password);
          let promise = $.ajax({
            url: "/reg",
            data: { username: username, password: password },
            type: "post",
            dataType: "json"
          }).then(
            resolve => {
              console.log(resolve);
            },
            reject => {
              console.log(reject);
            }
          );
        })
      });
    </script>
  </body>
</html>
